[gd_scene load_steps=4 format=3 uid="uid://m4a1_scene"]

[ext_resource type="PackedScene" path="res://weapons/models/m4a1_s.fbx" id="1_model"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_black"]
albedo_color = Color(0.05, 0.05, 0.07, 1)
metallic = 0.85
roughness = 0.25

[sub_resource type="GDScript" id="GDScript_1"]
script/source = "extends Node3D

func _ready():
	var black_mat = StandardMaterial3D.new()
	black_mat.albedo_color = Color(0.05, 0.05, 0.07, 1)
	black_mat.metallic = 0.85
	black_mat.roughness = 0.25
	
	for child in get_children():
		apply_material_recursive(child, black_mat)

func apply_material_recursive(node, mat):
	if node is MeshInstance3D:
		node.material_override = mat
	for child in node.get_children():
		apply_material_recursive(child, mat)
"

[node name="M4A1" type="Node3D"]
script = SubResource("GDScript_1")

[node name="Model" parent="." instance=ExtResource("1_model")]
